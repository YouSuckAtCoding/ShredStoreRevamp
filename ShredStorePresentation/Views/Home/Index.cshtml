@using Contracts.Response.ProductsResponses

@model IEnumerable<ProductResponse>

@{
    ViewData["Title"] = "Guitarzzzz";
}

<div class="text-center mt-5 mb-5" id="IndexMain">
    @if (ViewBag.Search == "Ok")
    {
        <h1 class="text-light mb-5 mt-2">Search Results</h1>
        <div class="container">
            @if (Model.Any())
            {
                <ul id="ProductList">
                    @foreach (var item in Model)
                    {
                        if (item.Category == "Eletric Guitar")
                        {
                            <li class="card-list-item">
                                <div class="card me-2 bg-secondary bg-gradient" id="card-container">
                                    <img src="~/Images/@item.ImageName" class="card-img-top" alt="..." id="Card-Img">
                                    <div class="card-body">
                                        <h5 class="card-title text-light">@item.Name</h5>

                                        <p class="card-text text-light">Price: @(item.Price.ToString("c2")) </p>
                                        <a asp-controller="Product" asp-action="ProductDetails" asp-route-Id=@item.Id class="btn btn-outline-light">Check it out!</a>
                                    </div>
                                </div>
                            </li>
                        }
                    }
                </ul>
            }
            else
            {
                <h3 class="text-light mb-5 mt-2">No Results Found</h3>
            }

        </div>
    }
    else
    {
        <h1 class="text-light mb-5 mt-2">Guitars</h1>
        <div class="container">
            <ul id="ProductList">
                @foreach (var item in Model)
                {
                    if (item.Category == "Eletric Guitar")
                    {
                        <li class="card-list-item">
                            <div class="card me-2 bg-secondary bg-gradient" id="card-container">
                                <img src="~/Images/@item.ImageName" class="card-img-top" alt="..." id="Card-Img">
                                <div class="card-body">
                                    <h5 class="card-title text-light">@item.Name</h5>
                                    <p class="card-text text-light">Price: @(item.Price.ToString("c2")) </p>
                                    <a asp-controller="Product" asp-action="ProductDetails" asp-route-Id=@item.Id class="btn btn-outline-light">Check it out!</a>
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>

        <h1 class="text-light mb-5 mt-2">Acoustics</h1>
        <div class="container">
            <ul id="ProductList">
                @foreach (var item in Model)
                {
                    if (item.Category == "Acoustic Guitar")
                    {
                        <li class="card-list-item">
                            <div class="card me-2 bg-secondary bg-gradient" id="card-container">
                                <img src="~/Images/@item.ImageName" class="card-img-top" alt="..." id="Card-Img">
                                <div class="card-body">
                                    <h5 class="card-title text-light">@item.Name</h5>

                                    <p class="card-text text-light">Price: @(item.Price.ToString("c2")) </p>
                                    <a asp-controller="Product" asp-action="ProductDetails" asp-route-Id=@item.Id class="btn btn-outline-light">Check it out!</a>
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>

        <h1 class="text-light mb-5 mt-2">Pedals</h1>
        <div class="container">
            <ul id="ProductList">
                @foreach (var item in Model)
                {
                    if (item.Category == "Pedals")
                    {
                        <li class="card-list-item">
                            <div class="card me-2 bg-secondary bg-gradient" id="card-container">
                                <img src="~/Images/@item.ImageName" class="card-img-top" alt="..." id="Card-Img">
                                <div class="card-body">
                                    <h5 class="card-title text-light">@item.Name</h5>

                                    <p class="card-text text-light">Price: @(item.Price.ToString("c2")) </p>
                                    <a asp-controller="Product" asp-action="ProductDetails" asp-route-Id=@item.Id class="btn btn-outline-light">Check it out!</a>
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>

        <h1 class="text-light mb-5 mt-2">Amps</h1>
        <div class="container">
            <ul id="ProductList">
                @foreach (var item in Model)
                {
                    if (item.Category == "Amplifier")
                    {
                        <li class="card-list-item">
                            <div class="card me-2 bg-secondary bg-gradient" id="card-container">
                                <img src="~/Images/@item.ImageName" class="card-img-top" alt="..." id="Card-Img">
                                <div class="card-body">
                                    <h5 class="card-title text-light">@item.Name</h5>

                                    <p class="card-text text-light">Price: @(item.Price.ToString("c2")) </p>
                                    <a asp-controller="Product" asp-action="ProductDetails" asp-route-Id=@item.Id class="btn btn-outline-light">Check it out!</a>
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>

        <h1 class="text-light mb-5 mt-2">Accessories</h1>
        <div class="container">
            <ul id="ProductList">
                @foreach (var item in Model)
                {
                    if (item.Category == "Accessories")
                    {
                        <li class="card-list-item">
                            <div class="card me-2 bg-secondary bg-gradient" id="card-container">
                                <img src="~/Images/@item.ImageName" class="card-img-top" alt="..." id="Card-Img">
                                <div class="card-body">
                                    <h5 class="card-title text-light">@item.Name</h5>

                                    <p class="card-text text-light">Price: @(item.Price.ToString("c2")) </p>
                                    <a asp-controller="Product" asp-action="ProductDetails" asp-route-Id=@item.Id class="btn btn-outline-light">Check it out!</a>
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>
    }
</div>

@if (ViewBag.NoProds != null)
{
    <script type="text/javascript">
        window.onload = function () {
            alert("@ViewBag.Message");
        };
    </script>
}

